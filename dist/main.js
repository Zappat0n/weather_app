(()=>{"use strict";const e=()=>{const e=(e,t,n,d)=>{const a=document.createElement(t);return null!=n&&(a.textContent=n),null!=d&&d.forEach((e=>a.classList.add(e))),e.appendChild(a),a};return{addElement:e,addField:(e,t,n,d,a,i)=>{const r=document.createElement("div");r.classList.add("form_field");const c=document.createElement("label");c.setAttribute("for",e),c.textContent=t;const l=document.createElement("input");return l.classList.add(i),l.setAttribute("type",n),l.setAttribute("name",e),l.setAttribute("id",e),d&&l.setAttribute("required",!0),null!=a&&l.setAttribute("value",a),r.appendChild(c),r.appendChild(l),r},addImage:(t,n,d,a)=>{const i=e(t,"img",null,a);return i.src=n,i.alt=d,i.setAttribute("alt",d),i},displayError:t=>{const n=document.querySelector(".warnings");n.innerHTML="",e(n,"p",t,["warning"]),setTimeout((()=>{n.innerHTML=""}),2e3)}}},t={async getCityWeather(t){const n=((e,t)=>new Request(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=cc0adaa848afffcfc081615eb0570df1&units=${t}`,{method:"GET"}))(t,document.querySelector(".celsius_input").checked?"metric":"imperial");try{return(await fetch(n)).json()}catch(t){return e().displayError(t),null}}},n=document.querySelector("body"),d=e().addElement(n,"div",null,["container"]);e().addElement(d,"h1","My Weather App"),(t=>({create:()=>{t.appendChild(e().addField("degrees","Celsius","radio",!0,"celsius","celsius_input")),t.appendChild(e().addField("degrees","Farenheit","radio",!0,"farenheit","farenheit_input")),document.querySelector(".celsius_input").setAttribute("checked","checked")}}))(e().addElement(d,"div",null,["container_degrees"])).create(),(n=>({create:()=>{const d=document.createElement("form");n.appendChild(d),d.setAttribute("id","main_form"),d.classList.add("form"),d.appendChild(e().addField("location","Location","text",!0,null,"input_location")),d.appendChild((()=>{const e=document.createElement("input");return e.setAttribute("type","submit"),e.classList.add("button"),e})()),d.addEventListener("submit",(n=>{n.preventDefault(),async function(n){(t=>{const n=document.querySelector(".container_display");n.innerHTML="",document.querySelector(".input_location").value="";const d=document.querySelector(".celsius_input").checked?"ºC":"ºF";e().addElement(n,"p",`${t.name}, country: ${t.sys.country}`,["content"]),e().addElement(n,"p",`Temperature: ${t.main.temp}${d}, min: ${t.main.temp_min}${d}, max: ${t.main.temp_max}${d}`,["content"]),e().addElement(n,"p",`Wind. Speed: ${t.wind.speed}, direction: ${t.wind.deg}º`,["content"]);const a=e().addElement(n,"div",null,["weather_content"]);e().addImage(a,`./icons/${t.weather[0].icon}.png`,["icon_weather"]),e().addElement(a,"p",`${t.weather[0].description}`,["content"])})(await t.getCityWeather(n))}(n.target.elements.location.value)}))}}))(d).create(),e().addElement(d,"div",null,["container_display"]),e().addElement(d,"div",null,["warnings"])})();